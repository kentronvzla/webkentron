(function(a){a.noty=function(e,d){var g={};var c=null;var f=false;g.init=function(h){g.options=a.extend({},a.noty.defaultOptions,h);g.options.type=g.options.cssPrefix+g.options.type;g.options.id=g.options.type+"_"+new Date().getTime();g.options.layout=g.options.cssPrefix+"layout_"+g.options.layout;if(g.options.custom.container){d=g.options.custom.container}f=(a.type(d)==="object")?true:false;return g.addQueue()};g.addQueue=function(){var h=(a.inArray(g.options.layout,a.noty.growls)==-1)?false:true;if(!h){(g.options.force)?a.noty.queue.unshift({options:g.options}):a.noty.queue.push({options:g.options})}return g.render(h)};g.render=function(j){var h=(f)?d.addClass(g.options.theme+" "+g.options.layout+" noty_custom_container"):a("body");if(j){if(a("ul.noty_cont."+g.options.layout).length==0){h.prepend(a("<ul/>").addClass("noty_cont "+g.options.layout))}h=a("ul.noty_cont."+g.options.layout)}else{if(a.noty.available){var i=a.noty.queue.shift();if(a.type(i)==="object"){a.noty.available=false;g.options=i.options}else{a.noty.available=true;return g.options.id}}else{return g.options.id}}g.container=h;g.bar=a('<div class="noty_bar"/>').attr("id",g.options.id).addClass(g.options.theme+" "+g.options.layout+" "+g.options.type);c=g.bar;c.append(g.options.template).find(".noty_text").html(g.options.text);c.data("noty_options",g.options);(g.options.closeButton)?c.addClass("noty_closable").find(".noty_close").show():c.find(".noty_close").remove();c.find(".noty_close").bind("click",function(){c.trigger("noty.close")});if(g.options.buttons){g.options.closeOnSelfClick=g.options.closeOnSelfOver=false}if(g.options.closeOnSelfClick){c.bind("click",function(){c.trigger("noty.close")}).css("cursor","pointer")}if(g.options.closeOnSelfOver){c.bind("mouseover",function(){c.trigger("noty.close")}).css("cursor","pointer")}if(g.options.buttons){$buttons=a("<div/>").addClass("noty_buttons");c.find(".noty_message").append($buttons);a.each(g.options.buttons,function(l,k){bclass=(k.type)?k.type:"gray";$button=a("<button/>").addClass(bclass).html(k.text).appendTo(c.find(".noty_buttons")).bind("click",function(){if(a.isFunction(k.click)){k.click.call($button,c)}})})}return g.show(j)};g.show=function(h){if(g.options.modal){a("<div/>").addClass("noty_modal").addClass(g.options.theme).prependTo(a("body")).fadeIn("fast")}c.close=function(){return this.trigger("noty.close")};(h)?g.container.prepend(a("<li/>").append(c)):g.container.prepend(c);if(g.options.layout=="noty_layout_topCenter"||g.options.layout=="noty_layout_center"){a.noty.reCenter(c)}c.bind("noty.setText",function(i,j){c.find(".noty_text").html(j);if(g.options.layout=="noty_layout_topCenter"||g.options.layout=="noty_layout_center"){a.noty.reCenter(c)}});c.bind("noty.setType",function(j,i){c.removeClass(c.data("noty_options").type);i=c.data("noty_options").cssPrefix+i;c.data("noty_options").type=i;c.addClass(i);if(g.options.layout=="noty_layout_topCenter"||g.options.layout=="noty_layout_center"){a.noty.reCenter(c)}});c.bind("noty.getId",function(i){return c.data("noty_options").id});c.one("noty.close",function(j){var i=c.data("noty_options");if(i.onClose){i.onClose()}if(i.modal){a(".noty_modal").fadeOut("fast",function(){a(this).remove()})}c.clearQueue().stop().animate(c.data("noty_options").animateClose,c.data("noty_options").speed,c.data("noty_options").easing,c.data("noty_options").onClosed).promise().done(function(){if(a.inArray(c.data("noty_options").layout,a.noty.growls)>-1){c.parent().remove()}else{c.remove();a.noty.available=true;g.render(false)}})});if(g.options.onShow){g.options.onShow()}c.animate(g.options.animateOpen,g.options.speed,g.options.easing,g.options.onShown);if(g.options.timeout){c.delay(g.options.timeout).promise().done(function(){c.trigger("noty.close")})}return g.options.id};return g.init(e)};a.noty.get=function(c){return a("#"+c)};a.noty.close=function(d){for(var c=0;c<a.noty.queue.length;){if(a.noty.queue[c].options.id==d){a.noty.queue.splice(d,1)}else{c++}}a.noty.get(d).trigger("noty.close")};a.noty.setText=function(d,c){a.noty.get(d).trigger("noty.setText",c)};a.noty.setType=function(d,c){a.noty.get(d).trigger("noty.setType",c)};a.noty.closeAll=function(){a.noty.clearQueue();a(".noty_bar").trigger("noty.close")};a.noty.reCenter=function(c){c.css({left:(a(window).width()-c.outerWidth())/2+"px"})};a.noty.clearQueue=function(){a.noty.queue=[]};var b=window.alert;a.noty.consumeAlert=function(c){window.alert=function(d){if(c){c.text=d}else{c={text:d}}a.noty(c)}};a.noty.stopConsumeAlert=function(){window.alert=b};a.noty.queue=[];a.noty.growls=["noty_layout_topLeft","noty_layout_topRight","noty_layout_bottomLeft","noty_layout_bottomRight"];a.noty.available=true;a.noty.defaultOptions={layout:"top",theme:"noty_theme_default",animateOpen:{height:"toggle"},animateClose:{height:"toggle"},easing:"swing",text:"",type:"alert",speed:500,timeout:5000,closeButton:false,closeOnSelfClick:true,closeOnSelfOver:false,force:false,onShow:false,onShown:false,onClose:false,onClosed:false,buttons:false,modal:false,template:'<div class="noty_message"><span class="noty_text"></span><div class="noty_close"></div></div>',cssPrefix:"noty_",custom:{container:null}};a.fn.noty=function(c){return this.each(function(){(new a.noty(c,a(this)))})}})(jQuery);function noty(a){return jQuery.noty(a)};